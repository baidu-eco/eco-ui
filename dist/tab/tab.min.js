/*!  2014-09-19 */
var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(state){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)
}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}
},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;var classes={tab:"utab",clicked:"utab_clicked"},_ajax_cache={},rand=function(front_str){return(front_str||"")+(new Date).getTime()*Math.round(1+Math.random(999))},getDefault=function(){return{eventType:"click",selector:"a",dataType:"dom",related:null,selectedClass:classes.clicked,index:0,onClick:function(){},isAjaxCache:!1,onAjaxError:function(){},onAjaxSuccess:function(){}}},tab=function(selector,options){return this.elems={context:$(selector)},this.def=getDefault(),$.extend(this.def,options),pri.init.call(this),this.elems.context.addClass(classes.tab),this},pri={};$.extend(pri,{init:function(){pri.store.call(this),pri.bindEvent.call(this)},store:function(){this.elems.handlers=this.elems.context.find(this.def.selector);var related=this.def.related;if(related)if($.isFunction(related))this.elems.relateds=this.def.related.call(this,this.elems.context);else{if("string"!=typeof related)throw"related error.";this.elems.relateds=$(this.def.related)}else{var cid=rand("tab-selector-");this.elems.handlers.each(function(){$($(this).attr("tab-related")).addClass(cid)}),this.elems.relateds=$("."+cid)}},open:function(target,event){if(!$(this).hasClass(classes.clicked)){var params=pri.getParams.call(this,target);params.clicked.addClass(classes.clicked),params.other_clicked.removeClass(classes.clicked),this.onclick(params)}event.preventDefault()},bindEvent:function(){var _this=this,context=this.elems.context,et=this.def.eventType;context.delegate(this.def.selector,et+".tab",function(event){pri.open.call(_this,this,event)}),this.elems.handlers.eq(this.def.index).trigger(et+".tab")},getParams:function(target){var $hs=this.elems.handlers,$rs=this.elems.relateds;if($hs.length===$rs.length){var $r_cur=pri.findCurrent(this.elems.relateds,$(target).attr("tab-related")||$(target).index());return{clicked:$(target),related:$r_cur,other_clicked:$(target).siblings($hs.selector),other_related:$r_cur.siblings($r_cur.prevObject.selector),data_type:$(target).attr("data-type")}}return{clicked:$(target),related:this.elems.relateds,other_clicked:$(target).siblings($hs.selector),data_type:$(target).attr("data-type")}},findCurrent:function(list,s){return isNaN(Number(s))?list.filter(function(){return this===$(s)[0]}):list.eq(s)}}),$.extend(tab.prototype,{ajaxFun:function(params,action){var _this=this;return this.def.isAjaxCache&&void 0!==_ajax_cache[params.clicked.attr("tab-cid")]?void _this.def.onAjaxSuccess.call(_this,params,_ajax_cache[params.clicked.attr("tab-cid")],!0):void $.ajax({url:action,error:function(){throw"ajax error."},success:function(data){_this.def.onAjaxSuccess.call(_this,params,data,!1);var rid=rand("tab-cacheid-");_this.def.isAjaxCache&&void 0===_ajax_cache[rid]&&(_ajax_cache[rid]=data,params.clicked.attr("tab-cid",rid))}})},onclick:function(params){var dt=this.def.dataType,t_r=params.clicked.attr("tab-related");"img"===dt?params.related.html('<img src="'+t_r+'" />'):"ajax"===dt?this.ajaxFun(params,t_r):"dom"===dt&&(params.related.fadeIn(100),params.other_related.hide()),this.def.onClick.call(this,params.clicked,params.related,params)}}),module.exports=tab;